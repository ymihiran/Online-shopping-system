{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yasan\\\\OneDrive\\\\Documents\\\\VS Code\\\\DS_clone\\\\Online-shopping-system\\\\frontend\\\\src\\\\Checkout\\\\mobilePayment.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { useLocation } from \"react-router-dom\";\nimport axios from \"axios\";\nimport \"./css/paypal.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Mobilepayment() {\n  _s();\n\n  const history = useHistory();\n  const location = useLocation();\n  const [name, setName] = useState(\"\");\n  const [number, setNumber] = useState(location.state.phoneNumber);\n  const [pin, setPin] = useState(\"\");\n  const items = location.state.item;\n  const email = location.state.email;\n  const addresss = location.state.addresss;\n  const city = location.state.city;\n  const zip = location.state.zip;\n  const state = location.state.state;\n  const Total = location.state.total;\n\n  function sendOTP() {\n    const from = \"Vonage APIs\";\n    const to = \"94770025079\";\n    const text = 'A text message sent using the Vonage SMS API';\n    vonage.message.sendSms(from, to, text, (err, responseData) => {\n      if (err) {\n        console.log(err);\n      } else {\n        if (responseData.messages[0]['status'] === \"0\") {\n          alert(\"Message sent successfully.\");\n        } else {\n          alert(`Message failed with error: ${responseData.messages[0]['error-text']}`);\n        }\n      }\n    });\n  }\n\n  function doPayment() {\n    const mobileData = {\n      name: name,\n      number: number,\n      pin: pin\n    }; //axios.post(\"http://localhost:8070/service/PaymentService/payment/add\",mobileData).then((response) =>{\n\n    axios.post(\"http://localhost:8070/service/PaymentService/payment/add\", mobileData).then(response => {\n      history.push({\n        //If paypal payment success then redirect to the succes page\n        pathname: `/OrderSuccess`,\n        state: {\n          name: location.state.name,\n          email: location.state.email,\n          addresss: location.state.addresss,\n          city: location.state.city,\n          zip: location.state.zip,\n          state: location.state.state,\n          phoneNumber: location.state.phoneNumber,\n          total: location.state.total,\n          item: items\n        }\n      });\n    }).catch(err => {\n      alert(err);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"wrapper fadeInDown\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"formContent\",\n        children: [/*#__PURE__*/_jsxDEV(\"center\", {\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Mobile Payments\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"fadeIn second\",\n          name: \"login\",\n          placeholder: \"Name\",\n          onChange: e => {\n            setName(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"fadeIn third\",\n          name: \"login\",\n          placeholder: \"Mobile number\",\n          onChange: e => {\n            setNumber(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"fadeIn third\",\n          name: \"login\",\n          placeholder: \"Pin\",\n          onChange: e => {\n            setPin(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: sendOTP,\n          style: {\n            width: \"400px\"\n          },\n          class: \"btn btn-success\",\n          value: \"Log In\",\n          children: \"Request OTP\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: doPayment,\n          style: {\n            width: \"400px\"\n          },\n          class: \"btn btn-success\",\n          value: \"Log In\",\n          children: \"Pay\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Mobilepayment, \"GdOsOmIRERzR0A8ooDFVXHLCdMc=\", false, function () {\n  return [useHistory, useLocation];\n});\n\n_c = Mobilepayment;\nexport default Mobilepayment;\n\nvar _c;\n\n$RefreshReg$(_c, \"Mobilepayment\");","map":{"version":3,"sources":["C:/Users/yasan/OneDrive/Documents/VS Code/DS_clone/Online-shopping-system/frontend/src/Checkout/mobilePayment.js"],"names":["React","useState","useHistory","useLocation","axios","Mobilepayment","history","location","name","setName","number","setNumber","state","phoneNumber","pin","setPin","items","item","email","addresss","city","zip","Total","total","sendOTP","from","to","text","vonage","message","sendSms","err","responseData","console","log","messages","alert","doPayment","mobileData","post","then","response","push","pathname","catch","e","target","value","width"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport \"./css/paypal.css\";\r\nfunction Mobilepayment() {\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const [number, setNumber] = useState(location.state.phoneNumber);\r\n  const [pin, setPin] = useState(\"\");\r\n\r\n  const items = location.state.item;\r\n  const email = location.state.email;\r\n  const addresss = location.state.addresss;\r\n  const city = location.state.city;\r\n  const zip = location.state.zip;\r\n  const state = location.state.state;\r\n  const Total = location.state.total;\r\n\r\n\r\n  function sendOTP() {\r\n    const from = \"Vonage APIs\"\r\n    const to = \"94770025079\"\r\n    const text = 'A text message sent using the Vonage SMS API'\r\n\r\n    vonage.message.sendSms(from, to, text, (err, responseData) => {\r\n        if (err) {\r\n            console.log(err);\r\n        } else {\r\n            if(responseData.messages[0]['status'] === \"0\") {\r\n                alert(\"Message sent successfully.\");\r\n            } else {\r\n                alert(`Message failed with error: ${responseData.messages[0]['error-text']}`);\r\n            }\r\n        }\r\n    })\r\n  }\r\n\r\n  function doPayment() {\r\n    const mobileData = {\r\n      name: name,\r\n      number: number,\r\n      pin: pin,\r\n    };\r\n\r\n    //axios.post(\"http://localhost:8070/service/PaymentService/payment/add\",mobileData).then((response) =>{\r\n\r\n    axios\r\n      .post(\r\n        \"http://localhost:8070/service/PaymentService/payment/add\",\r\n        mobileData\r\n      )\r\n      .then((response) => {\r\n        history.push({\r\n          //If paypal payment success then redirect to the succes page\r\n          pathname: `/OrderSuccess`,\r\n          state: {\r\n            name: location.state.name,\r\n            email: location.state.email,\r\n            addresss: location.state.addresss,\r\n            city: location.state.city,\r\n            zip: location.state.zip,\r\n            state: location.state.state,\r\n            phoneNumber: location.state.phoneNumber,\r\n            total: location.state.total,\r\n            item: items,\r\n          },\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        alert(err);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div class='wrapper fadeInDown'>\r\n        <div id='formContent'>\r\n          <center>\r\n            <h1>Mobile Payments</h1>\r\n          </center>\r\n          <br />\r\n          <br />\r\n          <input\r\n            type='text'\r\n            className='fadeIn second'\r\n            name='login'\r\n            placeholder='Name'\r\n            onChange={(e) => {\r\n              setName(e.target.value);\r\n            }}\r\n          />\r\n          <input\r\n            type='text'\r\n            className='fadeIn third'\r\n            name='login'\r\n            placeholder='Mobile number'\r\n            onChange={(e) => {\r\n              setNumber(e.target.value);\r\n            }}\r\n          />\r\n          <input\r\n            type='text'\r\n            className='fadeIn third'\r\n            name='login'\r\n            placeholder='Pin'\r\n            onChange={(e) => {\r\n              setPin(e.target.value);\r\n            }}\r\n          />{\" \"}\r\n\r\n          <br />\r\n          <button\r\n            onClick={sendOTP}\r\n            style={{ width: \"400px\" }}\r\n            class='btn btn-success'\r\n            value='Log In'\r\n          >\r\n            Request OTP\r\n          </button>\r\n\r\n          <br />\r\n          <button\r\n            onClick={doPayment}\r\n            style={{ width: \"400px\" }}\r\n            class='btn btn-success'\r\n            value='Log In'\r\n          >\r\n            Pay\r\n          </button>\r\n          <br />\r\n          <br />\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default Mobilepayment;\r\n"]},"metadata":{},"sourceType":"module"}