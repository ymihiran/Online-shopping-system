{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _Pricing = _interopRequireDefault(require(\"./Pricing\"));\n\nvar _Utils = _interopRequireDefault(require(\"./Utils\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nclass Number {\n  static get PATH() {\n    return \"/number\";\n  }\n\n  static get ERROR_MESSAGES() {\n    return {\n      optionsNotAnObject: \"Options parameter should be a dictionary. Check the docs for valid properties for options\",\n      countrycode: \"Invalid Country Code\",\n      msisdn: \"Invalid MSISDN passed\"\n    };\n  }\n  /**\n   * @param {Credentials} credentials\n   *    credentials to be used when interacting with the API.\n   * @param {Object} options\n   *    Addition Number options.\n   */\n\n\n  constructor(credentials) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.creds = credentials;\n    this.options = options;\n    this._pricing = new _Pricing.default(credentials, options);\n  }\n  /**\n   * TODO: remove with next major release\n   */\n\n\n  getPricing() {\n    this._pricing.get.apply(this, arguments);\n  }\n  /**\n   * TODO: remove with next major release\n   */\n\n\n  getPhonePricing() {\n    this._pricing.getPhone.apply(this, arguments);\n  }\n  /**\n   * TODO: document\n   */\n\n\n  get(options, callback) {\n    if (typeof options === \"function\") {\n      callback = options;\n      options = {};\n    } else if (typeof options !== \"object\") {\n      _Utils.default.sendError(callback, new Error(Number.ERROR_MESSAGES.optionsNotAnObject));\n    }\n\n    options.api_key = options.api_key || this.creds.apiKey;\n    options.api_secret = options.api_secret || this.creds.apiSecret;\n    this.options.httpClient.request({\n      path: _Utils.default.createPathWithQuery(\"/account\".concat(Number.PATH, \"s\"), options)\n    }, callback);\n  }\n  /**\n   * TODO: document\n   */\n\n\n  search(countryCode, pattern, callback) {\n    var params = {\n      api_key: this.creds.apiKey,\n      api_secret: this.creds.apiSecret\n    };\n\n    if (!countryCode || countryCode.length !== 2) {\n      _Utils.default.sendError(callback, new Error(Number.ERROR_MESSAGES.countrycode));\n    } else {\n      params[\"country\"] = countryCode;\n\n      if (typeof pattern === \"function\") {\n        callback = pattern;\n      } else if (typeof pattern === \"object\") {\n        for (var arg in pattern) {\n          params[arg] = pattern[arg];\n        }\n      } else {\n        params[\"pattern\"] = pattern;\n      }\n\n      this.options.httpClient.request({\n        path: _Utils.default.createPathWithQuery(\"\".concat(Number.PATH, \"/search\"), params)\n      }, callback);\n    }\n  }\n  /**\n   * TODO: document\n   */\n\n\n  buy(countryCode, msisdn, targetApiKey, callback) {\n    if (!countryCode || countryCode.length !== 2) {\n      _Utils.default.sendError(callback, new Error(Number.ERROR_MESSAGES.countrycode));\n    } else if (!msisdn) {\n      _Utils.default.sendError(callback, new Error(Number.ERROR_MESSAGES.msisdn));\n    } else {\n      var opts = {\n        country: countryCode,\n        msisdn,\n        api_key: this.creds.apiKey,\n        api_secret: this.creds.apiSecret\n      };\n\n      if (targetApiKey instanceof Function) {\n        callback = targetApiKey;\n      } else {\n        opts.target_api_key = targetApiKey;\n      }\n\n      this.options.httpClient.request({\n        path: _Utils.default.createPathWithQuery(\"\".concat(Number.PATH, \"/buy\"), opts)\n      }, \"POST\", callback);\n    }\n  }\n  /**\n   * TODO: document\n   */\n\n\n  cancel(countryCode, msisdn, targetApiKey, callback) {\n    if (!countryCode || countryCode.length !== 2) {\n      _Utils.default.sendError(callback, new Error(Number.ERROR_MESSAGES.countrycode));\n    } else if (!msisdn) {\n      _Utils.default.sendError(callback, new Error(Number.ERROR_MESSAGES.msisdn));\n    } else {\n      var opts = {\n        country: countryCode,\n        msisdn,\n        api_key: this.creds.apiKey,\n        api_secret: this.creds.apiSecret\n      };\n\n      if (targetApiKey instanceof Function) {\n        callback = targetApiKey;\n      } else {\n        opts.target_api_key = targetApiKey;\n      }\n\n      this.options.httpClient.request({\n        path: _Utils.default.createPathWithQuery(\"\".concat(Number.PATH, \"/cancel\"), opts)\n      }, \"POST\", callback);\n    }\n  }\n  /**\n   * TODO: document\n   */\n\n\n  update(countryCode, msisdn, params, callback) {\n    if (!countryCode || countryCode.length !== 2) {\n      _Utils.default.sendError(callback, new Error(Number.ERROR_MESSAGES.countrycode));\n    } else if (!msisdn) {\n      _Utils.default.sendError(callback, new Error(Number.ERROR_MESSAGES.msisdn));\n    } else {\n      params[\"country\"] = countryCode;\n      params[\"msisdn\"] = msisdn;\n      params[\"api_key\"] = this.creds.apiKey;\n      params[\"api_secret\"] = this.creds.apiSecret;\n      this.options.httpClient.request({\n        path: _Utils.default.createPathWithQuery(\"\".concat(Number.PATH, \"/update\"), params)\n      }, \"POST\", callback);\n    }\n  }\n\n}\n\nvar _default = Number;\nexports.default = _default;\nmodule.exports = exports.default;","map":{"version":3,"sources":["../src/Number.js"],"names":["PATH","ERROR_MESSAGES","optionsNotAnObject","countrycode","msisdn","constructor","options","Pricing","getPricing","getPhonePricing","get","callback","Utils","Number","path","search","params","api_key","api_secret","apiSecret","countryCode","pattern","buy","opts","country","targetApiKey","cancel","update"],"mappings":"AAAA;;;;;;;AAEA,IAAA,QAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,WAAA,CAAA,CAAA;;AAEA,IAAA,MAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,SAAA,CAAA,CAAA;;;;;;;;AAEA,MAAA,MAAA,CAAa;AACI,aAAJA,IAAI,GAAG;AAChB,WAAA,SAAA;AACD;;AAEwB,aAAdC,cAAc,GAAG;AAC1B,WAAO;AACLC,MAAAA,kBAAkB,EADb,2FAAA;AAGLC,MAAAA,WAAW,EAHN,sBAAA;AAILC,MAAAA,MAAM,EAAE;AAJH,KAAP;AAMD;AACD;AACF;AACA;AACA;AACA;AACA;;;AACEC,EAAAA,WAAW,CAAA,WAAA,EAA4B;AAAA,QAAdC,OAAc,GAAA,SAAA,CAAA,MAAA,GAAA,CAAA,IAAA,SAAA,CAAA,CAAA,CAAA,KAAA,SAAA,GAAA,SAAA,CAAA,CAAA,CAAA,GAAJ,EAAI;AACrC,SAAA,KAAA,GAAA,WAAA;AACA,SAAA,OAAA,GAAA,OAAA;AAEA,SAAA,QAAA,GAAgB,IAAIC,QAAAA,CAAJ,OAAA,CAAA,WAAA,EAAhB,OAAgB,CAAhB;AACD;AAED;AACF;AACA;;;AACEC,EAAAA,UAAU,GAAG;AACX,SAAA,QAAA,CAAA,GAAA,CAAA,KAAA,CAAA,IAAA,EAAA,SAAA;AACD;AAED;AACF;AACA;;;AACEC,EAAAA,eAAe,GAAG;AAChB,SAAA,QAAA,CAAA,QAAA,CAAA,KAAA,CAAA,IAAA,EAAA,SAAA;AACD;AAED;AACF;AACA;;;AACEC,EAAAA,GAAG,CAAA,OAAA,EAAA,QAAA,EAAoB;AACrB,QAAI,OAAA,OAAA,KAAJ,UAAA,EAAmC;AACjCC,MAAAA,QAAQ,GAARA,OAAAA;AACAL,MAAAA,OAAO,GAAPA,EAAAA;AAFF,KAAA,MAGO,IAAI,OAAA,OAAA,KAAJ,QAAA,EAAiC;AACtCM,MAAAA,MAAAA,CAAAA,OAAAA,CAAAA,SAAAA,CAAAA,QAAAA,EAEE,IAAA,KAAA,CAAUC,MAAM,CAANA,cAAAA,CAFZD,kBAEE,CAFFA;AAID;;AAEDN,IAAAA,OAAO,CAAPA,OAAAA,GAAkBA,OAAO,CAAPA,OAAAA,IAAmB,KAAA,KAAA,CAArCA,MAAAA;AACAA,IAAAA,OAAO,CAAPA,UAAAA,GAAqBA,OAAO,CAAPA,UAAAA,IAAsB,KAAA,KAAA,CAA3CA,SAAAA;AAEA,SAAA,OAAA,CAAA,UAAA,CAAA,OAAA,CACE;AACEQ,MAAAA,IAAI,EAAEF,MAAAA,CAAAA,OAAAA,CAAAA,mBAAAA,CAAAA,WAAAA,MAAAA,CAAqCC,MAAM,CAA3CD,IAAAA,EAAAA,GAAAA,CAAAA,EAAAA,OAAAA;AADR,KADF,EAAA,QAAA;AAMD;AAED;AACF;AACA;;;AACEG,EAAAA,MAAM,CAAA,WAAA,EAAA,OAAA,EAAA,QAAA,EAAiC;AACrC,QAAIC,MAAM,GAAG;AACXC,MAAAA,OAAO,EAAE,KAAA,KAAA,CADE,MAAA;AAEXC,MAAAA,UAAU,EAAE,KAAA,KAAA,CAAWC;AAFZ,KAAb;;AAIA,QAAI,CAAA,WAAA,IAAgBC,WAAW,CAAXA,MAAAA,KAApB,CAAA,EAA8C;AAC5CR,MAAAA,MAAAA,CAAAA,OAAAA,CAAAA,SAAAA,CAAAA,QAAAA,EAA0B,IAAA,KAAA,CAAUC,MAAM,CAANA,cAAAA,CAApCD,WAA0B,CAA1BA;AADF,KAAA,MAEO;AACLI,MAAAA,MAAM,CAANA,SAAM,CAANA,GAAAA,WAAAA;;AACA,UAAI,OAAA,OAAA,KAAJ,UAAA,EAAmC;AACjCL,QAAAA,QAAQ,GAARA,OAAAA;AADF,OAAA,MAEO,IAAI,OAAA,OAAA,KAAJ,QAAA,EAAiC;AACtC,aAAK,IAAL,GAAA,IAAA,OAAA,EAAyB;AACvBK,UAAAA,MAAM,CAANA,GAAM,CAANA,GAAcK,OAAO,CAArBL,GAAqB,CAArBA;AACD;AAHI,OAAA,MAIA;AACLA,QAAAA,MAAM,CAANA,SAAM,CAANA,GAAAA,OAAAA;AACD;;AACD,WAAA,OAAA,CAAA,UAAA,CAAA,OAAA,CACE;AACEF,QAAAA,IAAI,EAAEF,MAAAA,CAAAA,OAAAA,CAAAA,mBAAAA,CAAAA,GAAAA,MAAAA,CAA6BC,MAAM,CAAnCD,IAAAA,EAAAA,SAAAA,CAAAA,EAAAA,MAAAA;AADR,OADF,EAAA,QAAA;AAMD;AACF;AAED;AACF;AACA;;;AACEU,EAAAA,GAAG,CAAA,WAAA,EAAA,MAAA,EAAA,YAAA,EAAA,QAAA,EAA8C;AAC/C,QAAI,CAAA,WAAA,IAAgBF,WAAW,CAAXA,MAAAA,KAApB,CAAA,EAA8C;AAC5CR,MAAAA,MAAAA,CAAAA,OAAAA,CAAAA,SAAAA,CAAAA,QAAAA,EAA0B,IAAA,KAAA,CAAUC,MAAM,CAANA,cAAAA,CAApCD,WAA0B,CAA1BA;AADF,KAAA,MAEO,IAAI,CAAJ,MAAA,EAAa;AAClBA,MAAAA,MAAAA,CAAAA,OAAAA,CAAAA,SAAAA,CAAAA,QAAAA,EAA0B,IAAA,KAAA,CAAUC,MAAM,CAANA,cAAAA,CAApCD,MAA0B,CAA1BA;AADK,KAAA,MAEA;AACL,UAAIW,IAAI,GAAG;AACTC,QAAAA,OAAO,EADE,WAAA;AAAA,QAAA,MAAA;AAGTP,QAAAA,OAAO,EAAE,KAAA,KAAA,CAHA,MAAA;AAITC,QAAAA,UAAU,EAAE,KAAA,KAAA,CAAWC;AAJd,OAAX;;AAOA,UAAIM,YAAY,YAAhB,QAAA,EAAsC;AACpCd,QAAAA,QAAQ,GAARA,YAAAA;AADF,OAAA,MAEO;AACLY,QAAAA,IAAI,CAAJA,cAAAA,GAAAA,YAAAA;AACD;;AAED,WAAA,OAAA,CAAA,UAAA,CAAA,OAAA,CACE;AACET,QAAAA,IAAI,EAAEF,MAAAA,CAAAA,OAAAA,CAAAA,mBAAAA,CAAAA,GAAAA,MAAAA,CAA6BC,MAAM,CAAnCD,IAAAA,EAAAA,MAAAA,CAAAA,EAAAA,IAAAA;AADR,OADF,EAAA,MAAA,EAAA,QAAA;AAOD;AACF;AAED;AACF;AACA;;;AACEc,EAAAA,MAAM,CAAA,WAAA,EAAA,MAAA,EAAA,YAAA,EAAA,QAAA,EAA8C;AAClD,QAAI,CAAA,WAAA,IAAgBN,WAAW,CAAXA,MAAAA,KAApB,CAAA,EAA8C;AAC5CR,MAAAA,MAAAA,CAAAA,OAAAA,CAAAA,SAAAA,CAAAA,QAAAA,EAA0B,IAAA,KAAA,CAAUC,MAAM,CAANA,cAAAA,CAApCD,WAA0B,CAA1BA;AADF,KAAA,MAEO,IAAI,CAAJ,MAAA,EAAa;AAClBA,MAAAA,MAAAA,CAAAA,OAAAA,CAAAA,SAAAA,CAAAA,QAAAA,EAA0B,IAAA,KAAA,CAAUC,MAAM,CAANA,cAAAA,CAApCD,MAA0B,CAA1BA;AADK,KAAA,MAEA;AACL,UAAIW,IAAI,GAAG;AACTC,QAAAA,OAAO,EADE,WAAA;AAAA,QAAA,MAAA;AAGTP,QAAAA,OAAO,EAAE,KAAA,KAAA,CAHA,MAAA;AAITC,QAAAA,UAAU,EAAE,KAAA,KAAA,CAAWC;AAJd,OAAX;;AAOA,UAAIM,YAAY,YAAhB,QAAA,EAAsC;AACpCd,QAAAA,QAAQ,GAARA,YAAAA;AADF,OAAA,MAEO;AACLY,QAAAA,IAAI,CAAJA,cAAAA,GAAAA,YAAAA;AACD;;AAED,WAAA,OAAA,CAAA,UAAA,CAAA,OAAA,CACE;AACET,QAAAA,IAAI,EAAEF,MAAAA,CAAAA,OAAAA,CAAAA,mBAAAA,CAAAA,GAAAA,MAAAA,CAA6BC,MAAM,CAAnCD,IAAAA,EAAAA,SAAAA,CAAAA,EAAAA,IAAAA;AADR,OADF,EAAA,MAAA,EAAA,QAAA;AAOD;AACF;AAED;AACF;AACA;;;AACEe,EAAAA,MAAM,CAAA,WAAA,EAAA,MAAA,EAAA,MAAA,EAAA,QAAA,EAAwC;AAC5C,QAAI,CAAA,WAAA,IAAgBP,WAAW,CAAXA,MAAAA,KAApB,CAAA,EAA8C;AAC5CR,MAAAA,MAAAA,CAAAA,OAAAA,CAAAA,SAAAA,CAAAA,QAAAA,EAA0B,IAAA,KAAA,CAAUC,MAAM,CAANA,cAAAA,CAApCD,WAA0B,CAA1BA;AADF,KAAA,MAEO,IAAI,CAAJ,MAAA,EAAa;AAClBA,MAAAA,MAAAA,CAAAA,OAAAA,CAAAA,SAAAA,CAAAA,QAAAA,EAA0B,IAAA,KAAA,CAAUC,MAAM,CAANA,cAAAA,CAApCD,MAA0B,CAA1BA;AADK,KAAA,MAEA;AACLI,MAAAA,MAAM,CAANA,SAAM,CAANA,GAAAA,WAAAA;AACAA,MAAAA,MAAM,CAANA,QAAM,CAANA,GAAAA,MAAAA;AACAA,MAAAA,MAAM,CAANA,SAAM,CAANA,GAAoB,KAAA,KAAA,CAApBA,MAAAA;AACAA,MAAAA,MAAM,CAANA,YAAM,CAANA,GAAuB,KAAA,KAAA,CAAvBA,SAAAA;AAEA,WAAA,OAAA,CAAA,UAAA,CAAA,OAAA,CACE;AACEF,QAAAA,IAAI,EAAEF,MAAAA,CAAAA,OAAAA,CAAAA,mBAAAA,CAAAA,GAAAA,MAAAA,CAA6BC,MAAM,CAAnCD,IAAAA,EAAAA,SAAAA,CAAAA,EAAAA,MAAAA;AADR,OADF,EAAA,MAAA,EAAA,QAAA;AAOD;AACF;;AArLU;;eAwLEC,M","sourcesContent":["\"use strict\";\n\nimport Pricing from \"./Pricing\";\n\nimport Utils from \"./Utils\";\n\nclass Number {\n  static get PATH() {\n    return \"/number\";\n  }\n\n  static get ERROR_MESSAGES() {\n    return {\n      optionsNotAnObject:\n        \"Options parameter should be a dictionary. Check the docs for valid properties for options\",\n      countrycode: \"Invalid Country Code\",\n      msisdn: \"Invalid MSISDN passed\",\n    };\n  }\n  /**\n   * @param {Credentials} credentials\n   *    credentials to be used when interacting with the API.\n   * @param {Object} options\n   *    Addition Number options.\n   */\n  constructor(credentials, options = {}) {\n    this.creds = credentials;\n    this.options = options;\n\n    this._pricing = new Pricing(credentials, options);\n  }\n\n  /**\n   * TODO: remove with next major release\n   */\n  getPricing() {\n    this._pricing.get.apply(this, arguments);\n  }\n\n  /**\n   * TODO: remove with next major release\n   */\n  getPhonePricing() {\n    this._pricing.getPhone.apply(this, arguments);\n  }\n\n  /**\n   * TODO: document\n   */\n  get(options, callback) {\n    if (typeof options === \"function\") {\n      callback = options;\n      options = {};\n    } else if (typeof options !== \"object\") {\n      Utils.sendError(\n        callback,\n        new Error(Number.ERROR_MESSAGES.optionsNotAnObject)\n      );\n    }\n\n    options.api_key = options.api_key || this.creds.apiKey;\n    options.api_secret = options.api_secret || this.creds.apiSecret;\n\n    this.options.httpClient.request(\n      {\n        path: Utils.createPathWithQuery(`/account${Number.PATH}s`, options),\n      },\n      callback\n    );\n  }\n\n  /**\n   * TODO: document\n   */\n  search(countryCode, pattern, callback) {\n    let params = {\n      api_key: this.creds.apiKey,\n      api_secret: this.creds.apiSecret,\n    };\n    if (!countryCode || countryCode.length !== 2) {\n      Utils.sendError(callback, new Error(Number.ERROR_MESSAGES.countrycode));\n    } else {\n      params[\"country\"] = countryCode;\n      if (typeof pattern === \"function\") {\n        callback = pattern;\n      } else if (typeof pattern === \"object\") {\n        for (var arg in pattern) {\n          params[arg] = pattern[arg];\n        }\n      } else {\n        params[\"pattern\"] = pattern;\n      }\n      this.options.httpClient.request(\n        {\n          path: Utils.createPathWithQuery(`${Number.PATH}/search`, params),\n        },\n        callback\n      );\n    }\n  }\n\n  /**\n   * TODO: document\n   */\n  buy(countryCode, msisdn, targetApiKey, callback) {\n    if (!countryCode || countryCode.length !== 2) {\n      Utils.sendError(callback, new Error(Number.ERROR_MESSAGES.countrycode));\n    } else if (!msisdn) {\n      Utils.sendError(callback, new Error(Number.ERROR_MESSAGES.msisdn));\n    } else {\n      let opts = {\n        country: countryCode,\n        msisdn,\n        api_key: this.creds.apiKey,\n        api_secret: this.creds.apiSecret,\n      };\n\n      if (targetApiKey instanceof Function) {\n        callback = targetApiKey;\n      } else {\n        opts.target_api_key = targetApiKey;\n      }\n\n      this.options.httpClient.request(\n        {\n          path: Utils.createPathWithQuery(`${Number.PATH}/buy`, opts),\n        },\n        \"POST\",\n        callback\n      );\n    }\n  }\n\n  /**\n   * TODO: document\n   */\n  cancel(countryCode, msisdn, targetApiKey, callback) {\n    if (!countryCode || countryCode.length !== 2) {\n      Utils.sendError(callback, new Error(Number.ERROR_MESSAGES.countrycode));\n    } else if (!msisdn) {\n      Utils.sendError(callback, new Error(Number.ERROR_MESSAGES.msisdn));\n    } else {\n      let opts = {\n        country: countryCode,\n        msisdn,\n        api_key: this.creds.apiKey,\n        api_secret: this.creds.apiSecret,\n      };\n\n      if (targetApiKey instanceof Function) {\n        callback = targetApiKey;\n      } else {\n        opts.target_api_key = targetApiKey;\n      }\n\n      this.options.httpClient.request(\n        {\n          path: Utils.createPathWithQuery(`${Number.PATH}/cancel`, opts),\n        },\n        \"POST\",\n        callback\n      );\n    }\n  }\n\n  /**\n   * TODO: document\n   */\n  update(countryCode, msisdn, params, callback) {\n    if (!countryCode || countryCode.length !== 2) {\n      Utils.sendError(callback, new Error(Number.ERROR_MESSAGES.countrycode));\n    } else if (!msisdn) {\n      Utils.sendError(callback, new Error(Number.ERROR_MESSAGES.msisdn));\n    } else {\n      params[\"country\"] = countryCode;\n      params[\"msisdn\"] = msisdn;\n      params[\"api_key\"] = this.creds.apiKey;\n      params[\"api_secret\"] = this.creds.apiSecret;\n\n      this.options.httpClient.request(\n        {\n          path: Utils.createPathWithQuery(`${Number.PATH}/update`, params),\n        },\n        \"POST\",\n        callback\n      );\n    }\n  }\n}\n\nexport default Number;\n"]},"metadata":{},"sourceType":"script"}